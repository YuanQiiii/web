## åŠ¨æ€è§„åˆ’(Hard)

ä¸€ç§é€šè¿‡å°†å¤æ‚é—®é¢˜åˆ†è§£ä¸ºç®€å•é—®é¢˜ä»è€Œå¯¹å¤æ‚é—®é¢˜æ±‚è§£çš„åŠæ³• 
å…·ä½“åˆ†ä¸ºçº¿æ€§å’Œéçº¿æ€§,å…¶ä¸­éçº¿æ€§é—®é¢˜é€‚åˆä½¿ç”¨é€’å½’å‡½æ•°

***æœ€ä¼˜æ€§åŸç†***
æœ€ä¼˜æ€§åŸç†æ˜¯æŒ‡"å¤šé˜¶æ®µå†³ç­–è¿‡ç¨‹çš„æœ€ä¼˜å†³ç­–åºåˆ—å…·æœ‰è¿™æ ·çš„æ€§è´¨:ä¸è®ºåˆå§‹çŠ¶æ€å’Œåˆå§‹å†³ç­–å¦‚ä½•,å¯¹äºå‰é¢å†³ç­–æ‰€é€ æˆçš„æŸä¸€çŠ¶æ€è€Œè¨€,å…¶åå„é˜¶æ®µçš„å†³ç­–åºåˆ—å¿…é¡»æ„æˆæœ€ä¼˜ç­–ç•¥".

- é—®é¢˜æŠ½è±¡åŒ–
- å»ºç«‹æ¨¡å‹
- å¯»æ‰¾çº¦æŸæ¡ä»¶
- åˆ¤æ–­æ˜¯å¦æ»¡è¶³æœ€ä¼˜æ€§åŸç†
- æ‰¾å¤§é—®é¢˜ä¸å°é—®é¢˜çš„é€’æ¨å…³ç³»å¼
- å¡«è¡¨
- å¯»æ‰¾è§£

å¸¸è§çš„dpåˆ†ç±»

- çº¿æ€§æ¨¡å‹
- åŒºé—´dp
- èƒŒåŒ…dp
- æ•°ä½dp
- çŠ¶æ€å‹ç¼©dp
- æ ‘çŠ¶dp

å¸¸è§çš„dpä¼˜åŒ–æ–¹æ³•

- æ»šåŠ¨æ•°ç»„ä¼˜åŒ–
- çŸ©é˜µä¹˜æ³•ä¼˜åŒ–
- æ–œç‡ä¼˜åŒ–
- å››è¾¹å½¢ä¸ç­‰å¼ä¼˜åŒ–
- å†³ç­–å•è°ƒæ€§ä¼˜åŒ–
- æ•°æ®ç»“æ„ä¼˜åŒ–

åŠ¨æ€è§„åˆ’é—®é¢˜çš„å…·ä½“è§£å†³

é˜¶æ®µå’Œé˜¶æ®µå˜é‡

- æŠŠé—®é¢˜çš„å…¨è¿‡ç¨‹æ°å½“çš„åˆ†æˆè‹¥å¹²ä¸ªç›¸äº’è”ç³»çš„é˜¶æ®µ
 - é˜¶æ®µçš„åˆ’åˆ†ä¸€èˆ¬è¦æ ¹æ®æ—¶é—´å’Œç©ºé—´çš„è‡ªç„¶ç‰¹å¾å»åˆ’åˆ†
 - é˜¶æ®µçš„åˆ’åˆ†è¦ä¾¿äºæŠŠé—®é¢˜è½¬åŒ–ä¸ºå¤šé˜¶æ®µå†³ç­–é—®é¢˜

çŠ¶æ€å’ŒçŠ¶æ€å˜é‡

- é€šå¸¸ä¸€ä¸ªé˜¶æ®µåŒ…å«è‹¥å¹²ä¸ªçŠ¶æ€
- çŠ¶æ€å¯ä»¥ç”¨å˜é‡æ¥æè¿°

å†³ç­–,å†³ç­–å˜é‡å’Œå†³ç­–å…è®¸é›†åˆ

ç­–ç•¥å’Œæœ€ä¼˜ç­–ç•¥



## é’¢æ¡åˆ‡å‰²é—®é¢˜

> #### é¢˜ç›®æè¿°
>
> Serlingå…¬å¸è´­ä¹°é•¿é’¢æ¡,å°†å…¶åˆ‡å‰²ä¸ºçŸ­é’¢æ¡å‡ºå”®.åˆ‡å‰²å·¥åºæœ¬èº«æ²¡æœ‰æˆæœ¬æ”¯å‡º.å…¬å¸ç®¡ç†å±‚å¸Œæœ›çŸ¥é“æœ€ä½³çš„åˆ‡å‰²æ–¹æ¡ˆ.å‡å®šæˆ‘ä»¬çŸ¥é“Serlingå…¬å¸å‡ºå”®ä¸€æ®µé•¿ä¸ºiè‹±å¯¸çš„é’¢æ¡çš„ä»·æ ¼ä¸ºpi(i=1,2,â€¦,å•ä½ä¸ºç¾å…ƒ).é’¢æ¡çš„é•¿åº¦å‡ä¸ºæ•´è‹±å¯¸.
>
> ç»™å®šä¸€æ®µé•¿åº¦ä¸ºnè‹±å¯¸çš„é’¢æ¡å’Œä¸€ä¸ªä»·æ ¼è¡¨pi(i=1,2,â€¦n),æ±‚åˆ‡å‰²é’¢æ¡æ–¹æ¡ˆ,ä½¿å¾—é”€å”®æ”¶ç›Šrnæœ€å¤§.
>
> #### å…³äºè¾“å…¥
>
> ç¬¬ä¸€è¡Œ:n,è¡¨ç¤ºè´­ä¹°çš„é•¿é’¢æ¡çš„é•¿åº¦.
> æ¥ä¸‹æ¥ä¸€è¡ŒåŒ…å« n ä¸ªæ•°å­—,ç¬¬ i ä¸ªæ•°å­—å‡ºå”®é•¿ä¸º i çš„é’¢æ¡çš„ä»·æ ¼,å³ pi.
>
> å…¶ä¸­ 0 < n <= 3000,0 < pi <= 10000.
>
> #### å…³äºè¾“å‡º
>
> è¾“å‡ºä»…ä¸€è¡Œ,ä¸ºæœ€å¤§çš„é”€å”®æ”¶ç›Šå€¼ rn.
>
> #### ä¾‹å­è¾“å…¥
>
> ```
> 7
> 1 5 8 9 10 17 17
> ```
>
> #### ä¾‹å­è¾“å‡º
>
> ```
> 18
> ```
>
> #### æç¤ºä¿¡æ¯
>
> æ³¨æ„,å¦‚æœé•¿åº¦ä¸ºnè‹±å¯¸çš„é’¢æ¡çš„ä»·æ ¼pnè¶³å¤Ÿå¤§,æœ€ä¼˜è§£å¯èƒ½å°±æ˜¯å®Œå…¨ä¸éœ€è¦åˆ‡å‰².

```c++
#include <iostream>
#include <vector>
using namespace std;
int main() {
  int n;
  cin >> n;
  vector<int> price(n + 1, 0);
  for (int i = 1; i <= n; i++) {
    cin >> price[i];
  }
  vector<int> dp(n + 1, 0);
  dp[1] = price[1];
  for (int i = 2; i <= n; i++) {
    for (int j = 1; j < i; j++) {
      dp[i] = max(dp[i], dp[i - j] + price[j]);
    }
  }
  cout << dp[n] << endl;
  return 0;
}
```

## æœ¨æåˆ‡å‰²

> æè¿°
>
> æœ‰ä¸€æ ¹é•¿åº¦ä¸ºnçš„æœ¨æ(nä¸ºä¸å¤§äº100çš„æ­£æ•´æ•°),è¦å°†å…¶åˆ‡å‰²ä¸ºm(0 < m < n) æ®µå‡ºå”®,æ¯æ®µå‡ä¸ºæ­£æ•´æ•°é•¿åº¦.ä¸åŒé•¿åº¦çš„æœ¨æå…·æœ‰ä¸åŒçš„å”®ä»·p(0 < p < 100).æ±‚ä¸€ä¸ªæœ€ä¼˜çš„åˆ‡å‰²æ–¹æ¡ˆ,ä»¥å°½å¯èƒ½å–å‡ºæ›´å¤šçš„é’±.
>
>  
>
> è¾“å…¥
>
> ç¬¬ä¸€è¡Œä¸ºn
>
> ç¬¬äºŒè¡Œä¸ºm
>
> ç¬¬ä¸‰è¡ŒåŒ…å« n ä¸ªæ•°å­—,ç¬¬ i ä¸ªæ•°å­—å‡ºå”®é•¿ä¸º i çš„æœ¨æçš„ä»·æ ¼,ç”¨ç©ºæ ¼éš”å¼€
>
> è¾“å‡º
>
> æœ€å¤§çš„æ€»å”®ä»·.
>
> æ ·ä¾‹è¾“å…¥
>
> ```
> 7
> 2
> 1 5 8 9 10 17 17
> ```
>
> æ ·ä¾‹è¾“å‡º
>
> ```
> 18
> ```

```c++
#include <iostream>
#include <vector>
using namespace std;
int main() {
  int n, m;
  cin >> n >> m;
  vector<int> price(n + 1, 0);
  for (int i = 1; i <= n; i++) {
    cin >> price[i];
  }
  vector<vector<int>> dp(m + 1, vector<int>(n + 1, 0));
  for (int i = 1; i <= n; i++) {
    dp[1][i] = price[i];
  }
  for (int i = 2; i <= m; i++) {
    for (int j = 1; j <= n; j++) {
      for (int k = 0; k < j; k++) {
        dp[i][j] = max(dp[i][j], dp[i - 1][k] + price[j - k]);
      }
    }
  }
  cout << dp[m][n] << endl;
  return 0;
}
```

## [æœ€é•¿é€’å¢å­åºåˆ—](https://leetcode.cn/problems/longest-increasing-subsequence/)

> ç»™ä½ ä¸€ä¸ªæ•´æ•°æ•°ç»„ `nums` ,æ‰¾åˆ°å…¶ä¸­æœ€é•¿ä¸¥æ ¼é€’å¢å­åºåˆ—çš„é•¿åº¦.
>
> **å­åºåˆ—** æ˜¯ç”±æ•°ç»„æ´¾ç”Ÿè€Œæ¥çš„åºåˆ—,åˆ é™¤(æˆ–ä¸åˆ é™¤)æ•°ç»„ä¸­çš„å…ƒç´ è€Œä¸æ”¹å˜å…¶ä½™å…ƒç´ çš„é¡ºåº.ä¾‹å¦‚,`[3,6,2,7]` æ˜¯æ•°ç»„ `[0,3,1,6,2,2,7]` çš„å­åºåˆ—.
>
> **ç¤ºä¾‹ 1:**
>
> ```
> è¾“å…¥ï¼šnums = [10,9,2,5,3,7,101,18]
> è¾“å‡ºï¼š4
> è§£é‡Šï¼šæœ€é•¿é€’å¢å­åºåˆ—æ˜¯ [2,3,7,101]ï¼Œå› æ­¤é•¿åº¦ä¸º 4 ã€‚
> ```
>
> **ç¤ºä¾‹ 2:**
>
> ```
> è¾“å…¥ï¼šnums = [0,1,0,3,2,3]
> è¾“å‡ºï¼š4
> ```
>
> **ç¤ºä¾‹ 3:**
>
> ```
> è¾“å…¥ï¼šnums = [7,7,7,7,7,7,7]
> è¾“å‡ºï¼š1
> ```

```c++
class Solution {

public:
    int lengthOfLIS(vector<int>& nums) {
        vector<int> dp(nums.size(), 1); // è®°å½•ä»¥num[i]ä¸ºç»“å°¾çš„æœ€é•¿å­åºåˆ—çš„é•¿åº¦
        for (int i = 1; i < nums.size(); i++) {
            for (int j = 0; j < i; j++) {
                if (nums[i] > nums[j]) {
                    dp[i] = max(dp[i], dp[j] + 1);
                }
            }
        }
        return *(max_element(dp.begin(),dp.end()));
    }
};
```

## [32. æœ€é•¿æœ‰æ•ˆæ‹¬å·](https://leetcode.cn/problems/longest-valid-parentheses/)

> ç»™ä½ ä¸€ä¸ªåªåŒ…å« `'('` å’Œ `')'` çš„å­—ç¬¦ä¸²,æ‰¾å‡ºæœ€é•¿æœ‰æ•ˆ(æ ¼å¼æ­£ç¡®ä¸”è¿ç»­)æ‹¬å·
>
> å­ä¸²çš„é•¿åº¦. 
>
> **ç¤ºä¾‹ 1:**
>
> ```
> è¾“å…¥ï¼šs = "(()"
> è¾“å‡ºï¼š2
> è§£é‡Šï¼šæœ€é•¿æœ‰æ•ˆæ‹¬å·å­ä¸²æ˜¯ "()"
> ```
>
> **ç¤ºä¾‹ 2:**
>
> ```
> è¾“å…¥ï¼šs = ")()())"
> è¾“å‡ºï¼š4
> è§£é‡Šï¼šæœ€é•¿æœ‰æ•ˆæ‹¬å·å­ä¸²æ˜¯ "()()"
> ```
>
> **ç¤ºä¾‹ 3:**
>
> ```
> è¾“å…¥ï¼šs = ""
> è¾“å‡ºï¼š0
> ```
>
> 
>
> **æç¤º:**
>
> - `0 <= s.length <= 3 * 104`
> - `s[i]` ä¸º `'('` æˆ– `')'`
> - ==è½¬åŒ–ä¸ºå®¹æ˜“è§£å†³çš„å½¢å¼==

```c++
class Solution {

public:
    int longestValidParentheses(string s) {
        stack<pair<char, int>> space;
        vector<int> count(s.size(), 0);
        for (int i = 0; i < s.size(); i++) {
            if (space.empty()) {
                space.push(make_pair(s[i], i));
            } else {
                if (s[i] == ')' && space.top().first == '(') {
                    count[i] = 1;
                    count[space.top().second] = 1;
                    space.pop();
                } else {
                    space.push(make_pair(s[i], i));
                }
            }
        }
        int max_count = 0, current_count = 0;
        for (int i = 0; i < s.size(); i++) {
            if (count[i] == 0) {
                max_count = max(max_count, current_count);
                current_count = 0;
            } else {
                current_count++;
            }
        }
        return max(max_count, current_count);
    }
};
```

## [AcWing 01èƒŒåŒ…é—®é¢˜](https://www.acwing.com/problem/content/2/)

> æœ‰ Nğ‘ ä»¶ç‰©å“å’Œä¸€ä¸ªå®¹é‡æ˜¯ Vğ‘‰ çš„èƒŒåŒ….æ¯ä»¶ç‰©å“åªèƒ½ä½¿ç”¨ä¸€æ¬¡.
>
> ç¬¬ iğ‘– ä»¶ç‰©å“çš„ä½“ç§¯æ˜¯ viğ‘£ğ‘–,ä»·å€¼æ˜¯ wiğ‘¤ğ‘–.
>
> æ±‚è§£å°†å“ªäº›ç‰©å“è£…å…¥èƒŒåŒ…,å¯ä½¿è¿™äº›ç‰©å“çš„æ€»ä½“ç§¯ä¸è¶…è¿‡èƒŒåŒ…å®¹é‡,ä¸”æ€»ä»·å€¼æœ€å¤§.
> è¾“å‡ºæœ€å¤§ä»·å€¼.
>
> #### è¾“å…¥æ ¼å¼
>
> ç¬¬ä¸€è¡Œä¸¤ä¸ªæ•´æ•°,N,Vğ‘,ğ‘‰,ç”¨ç©ºæ ¼éš”å¼€,åˆ†åˆ«è¡¨ç¤ºç‰©å“æ•°é‡å’ŒèƒŒåŒ…å®¹ç§¯.
>
> æ¥ä¸‹æ¥æœ‰ Nğ‘ è¡Œ,æ¯è¡Œä¸¤ä¸ªæ•´æ•° vi,wiğ‘£ğ‘–,ğ‘¤ğ‘–,ç”¨ç©ºæ ¼éš”å¼€,åˆ†åˆ«è¡¨ç¤ºç¬¬ iğ‘– ä»¶ç‰©å“çš„ä½“ç§¯å’Œä»·å€¼.
>
> #### è¾“å‡ºæ ¼å¼
>
> è¾“å‡ºä¸€ä¸ªæ•´æ•°,è¡¨ç¤ºæœ€å¤§ä»·å€¼.
>
> #### æ•°æ®èŒƒå›´
>
> 0<N,Vâ‰¤10000<ğ‘,ğ‘‰â‰¤1000
> 0<vi,wiâ‰¤10000<ğ‘£ğ‘–,ğ‘¤ğ‘–â‰¤1000
>
> #### è¾“å…¥æ ·ä¾‹
>
> ```
> 4 5
> 1 2
> 2 4
> 3 4
> 4 5
> ```
>
> #### è¾“å‡ºæ ·ä¾‹:
>
> ```
> 8
> ```

```c++
```

## [Luogu P2925å¹²è‰å‡ºå”®](https://www.luogu.org/problemnew/show/P2925)

> å†œæ°‘ John é¢ä¸´ä¸€ä¸ªå¾ˆå¯æ€•çš„äº‹,å› ä¸ºé˜²èŒƒåŠ›åº¦ä¸å¤§æ‰€ä»¥ä»–å­˜å‚¨çš„æ‰€æœ‰ç¨»è‰éƒ½è¢«èŸ‘è‚åƒå…‰äº†,ä»–å°†é¢ä¸´æ²¡æœ‰ç¨»è‰å–‚å…»å¥¶ç‰›çš„å±€é¢.åœ¨å¥¶ç‰›æ–­ç²®ä¹‹å‰,John æ‹‰ç€ä»–çš„é©¬è½¦åˆ°å†œæ°‘ Don çš„å†œåœºä¸­ä¹°ä¸€äº›ç¨»è‰ç»™å¥¶ç‰›è¿‡å†¬.å·²çŸ¥ John çš„é©¬è½¦å¯ä»¥è£…çš„ä¸‹ ğ¶(1â‰¤ğ¶â‰¤5Ã—104)*C*(1â‰¤*C*â‰¤5Ã—104) ç«‹æ–¹çš„ç¨»è‰.
>
> å†œæ°‘ Don æœ‰ ğ»(1â‰¤ğ»â‰¤5Ã—103)*H*(1â‰¤*H*â‰¤5Ã—103) æ†ä½“ç§¯ä¸åŒçš„ç¨»è‰å¯ä¾›è´­ä¹°,æ¯ä¸€æ†ç¨»è‰æœ‰å®ƒè‡ªå·±çš„ä½“ç§¯ ğ‘‰ğ‘–(1â‰¤ğ‘‰ğ‘–â‰¤ğ¶)*V**i*(1â‰¤*V**i*â‰¤*C*).é¢å¯¹è¿™äº›ç¨»è‰ John è®¤çœŸçš„è®¡ç®—å¦‚ä½•å……åˆ†åˆ©ç”¨é©¬è½¦çš„ç©ºé—´è´­ä¹°å°½é‡å¤šçš„ç¨»è‰ç»™ä»–çš„å¥¶ç‰›è¿‡å†¬.
>
> ç°åœ¨ç»™å®šé©¬è½¦çš„æœ€å¤§å®¹ç§¯ ğ¶*C* å’Œæ¯ä¸€æ†ç¨»è‰çš„ä½“ç§¯ ğ‘‰ğ‘–*V**i*,John å¦‚ä½•åœ¨ä¸è¶…è¿‡é©¬è½¦æœ€å¤§å®¹ç§¯çš„æƒ…å†µä¸‹ä¹°åˆ°æœ€å¤§ä½“ç§¯çš„ç¨»è‰?ä»–ä¸å¯ä»¥æŠŠä¸€æ†ç¨»è‰åˆ†å¼€æ¥ä¹°.

```c++
#include <iostream>
#include <vector>
using namespace std;
int main() {
  int c, h;
  cin >> c >> h;
  vector<int> v(h, 0);
  for (int i = 0; i < h; i++) {
    cin >> v[i];
  }
  vector<int> dp(c + 1, 0);
  for (int i = 0; i < h; i++) {
    for (int j = c; j >= v[i]; j--) {
      dp[j] = max(dp[j], dp[j - v[i]] + v[i]);
    }
  }
  cout << dp[c] << endl;
  return 0;
}
```

## [Luogu P1048 é‡‡è¯](https://www.luogu.org/problemnew/show/P1048)

> ## é¢˜ç›®æè¿°
>
> è¾°è¾°æ˜¯ä¸ªå¤©èµ„èªé¢–çš„å­©å­,ä»–çš„æ¢¦æƒ³æ˜¯æˆä¸ºä¸–ç•Œä¸Šæœ€ä¼Ÿå¤§çš„åŒ»å¸ˆ.ä¸ºæ­¤,ä»–æƒ³æ‹œé™„è¿‘æœ€æœ‰å¨æœ›çš„åŒ»å¸ˆä¸ºå¸ˆ.åŒ»å¸ˆä¸ºäº†åˆ¤æ–­ä»–çš„èµ„è´¨,ç»™ä»–å‡ºäº†ä¸€ä¸ªéš¾é¢˜.åŒ»å¸ˆæŠŠä»–å¸¦åˆ°ä¸€ä¸ªåˆ°å¤„éƒ½æ˜¯è‰è¯çš„å±±æ´é‡Œå¯¹ä»–è¯´:"å­©å­,è¿™ä¸ªå±±æ´é‡Œæœ‰ä¸€äº›ä¸åŒçš„è‰è¯,é‡‡æ¯ä¸€æ ªéƒ½éœ€è¦ä¸€äº›æ—¶é—´,æ¯ä¸€æ ªä¹Ÿæœ‰å®ƒè‡ªèº«çš„ä»·å€¼.æˆ‘ä¼šç»™ä½ ä¸€æ®µæ—¶é—´,åœ¨è¿™æ®µæ—¶é—´é‡Œ,ä½ å¯ä»¥é‡‡åˆ°ä¸€äº›è‰è¯.å¦‚æœä½ æ˜¯ä¸€ä¸ªèªæ˜çš„å­©å­,ä½ åº”è¯¥å¯ä»¥è®©é‡‡åˆ°çš„è‰è¯çš„æ€»ä»·å€¼æœ€å¤§."
>
> å¦‚æœä½ æ˜¯è¾°è¾°,ä½ èƒ½å®Œæˆè¿™ä¸ªä»»åŠ¡å—?
>
> ## è¾“å…¥æ ¼å¼
>
> ç¬¬ä¸€è¡Œæœ‰ 22 ä¸ªæ•´æ•° ğ‘‡*T*(1â‰¤ğ‘‡â‰¤10001â‰¤*T*â‰¤1000)å’Œ ğ‘€*M*(1â‰¤ğ‘€â‰¤1001â‰¤*M*â‰¤100),ç”¨ä¸€ä¸ªç©ºæ ¼éš”å¼€,ğ‘‡*T* ä»£è¡¨æ€»å…±èƒ½å¤Ÿç”¨æ¥é‡‡è¯çš„æ—¶é—´,ğ‘€*M* ä»£è¡¨å±±æ´é‡Œçš„è‰è¯çš„æ•°ç›®.
>
> æ¥ä¸‹æ¥çš„ ğ‘€*M* è¡Œæ¯è¡ŒåŒ…æ‹¬ä¸¤ä¸ªåœ¨ 11 åˆ° 100100 ä¹‹é—´(åŒ…æ‹¬ 11 å’Œ 100100)çš„æ•´æ•°,åˆ†åˆ«è¡¨ç¤ºé‡‡æ‘˜æŸæ ªè‰è¯çš„æ—¶é—´å’Œè¿™æ ªè‰è¯çš„ä»·å€¼.
>
> ## è¾“å‡ºæ ¼å¼
>
> è¾“å‡ºåœ¨è§„å®šçš„æ—¶é—´å†…å¯ä»¥é‡‡åˆ°çš„è‰è¯çš„æœ€å¤§æ€»ä»·å€¼.
>
> ## è¾“å…¥è¾“å‡ºæ ·ä¾‹
>
> **è¾“å…¥ #1**å¤åˆ¶
>
> ```
> 70 3
> 71 100
> 69 1
> 1 2
> ```
>
> **è¾“å‡º #1**å¤åˆ¶
>
> ```
> 3
> ```
>
> ## è¯´æ˜/æç¤º
>
> **[æ•°æ®èŒƒå›´]**
>
> - å¯¹äº 30%30% çš„æ•°æ®,ğ‘€â‰¤10*M*â‰¤10;
> - å¯¹äºå…¨éƒ¨çš„æ•°æ®,ğ‘€â‰¤100*M*â‰¤100.

```c++
```

## [AcWing å®Œå…¨èƒŒåŒ…é—®é¢˜](https://www.acwing.com/problem/content/3/)

> æœ‰ Nç§ç‰©å“å’Œä¸€ä¸ªå®¹é‡æ˜¯ Vçš„èƒŒåŒ…,æ¯ç§ç‰©å“éƒ½æœ‰æ— é™ä»¶å¯ç”¨.
>
> ç¬¬ iç§ç‰©å“çš„ä½“ç§¯æ˜¯ vi,ä»·å€¼æ˜¯ wi.
>
> æ±‚è§£å°†å“ªäº›ç‰©å“è£…å…¥èƒŒåŒ…,å¯ä½¿è¿™äº›ç‰©å“çš„æ€»ä½“ç§¯ä¸è¶…è¿‡èƒŒåŒ…å®¹é‡,ä¸”æ€»ä»·å€¼æœ€å¤§.
> è¾“å‡ºæœ€å¤§ä»·å€¼.
>
> #### è¾“å…¥æ ¼å¼
>
> ç¬¬ä¸€è¡Œä¸¤ä¸ªæ•´æ•°,N,V,ç”¨ç©ºæ ¼éš”å¼€,åˆ†åˆ«è¡¨ç¤ºç‰©å“ç§æ•°å’ŒèƒŒåŒ…å®¹ç§¯.
>
> æ¥ä¸‹æ¥æœ‰ N è¡Œ,æ¯è¡Œä¸¤ä¸ªæ•´æ•° vi,wiç”¨ç©ºæ ¼éš”å¼€,åˆ†åˆ«è¡¨ç¤ºç¬¬ iç§ç‰©å“çš„ä½“ç§¯å’Œä»·å€¼.
>
> #### è¾“å‡ºæ ¼å¼
>
> è¾“å‡ºä¸€ä¸ªæ•´æ•°,è¡¨ç¤ºæœ€å¤§ä»·å€¼.
>
> #### æ•°æ®èŒƒå›´
>
> 0<N,Vâ‰¤1000
> 0<vi,wiâ‰¤1000
>
> #### è¾“å…¥æ ·ä¾‹
>
> ```
> 4 5
> 1 2
> 2 4
> 3 4
> 4 5
> ```
>
> #### è¾“å‡ºæ ·ä¾‹:
>
> ```
> 10
> ```

```c++
#include <algorithm>
#include <cmath>
#include <iostream>
#include <vector>

using namespace std;

int main() {
  int n, av;
  cin >> n >> av;
  vector<int> v(n, 0);
  vector<int> w(n, 0);
  for (int i = 0; i < n; i++) {
    cin >> v[i] >> w[i];
  }
  vector<int> dp(av + 1, 0);
  for (int i = 0; i < n; i++) {
    for (int j = v[i]; j <= av; j++) {
      dp[j] = max(dp[j], dp[j - v[i]] + w[i]);
    }
  }
  cout << dp[av] << endl;
  return 0;
}
```

## [Luogu P1853æŠ•èµ„çš„æœ€å¤§æ•ˆç›Š](https://www.luogu.org/problemnew/show/P1853#sub)

==TLE==

> ## é¢˜ç›®èƒŒæ™¯
>
> çº¦ç¿°å…ˆç”Ÿè·å¾—äº†ä¸€å¤§ç¬”é—äº§,ä»–æš‚æ—¶è¿˜ç”¨ä¸ä¸Šè¿™ä¸€ç¬”é’±,ä»–å†³å®šè¿›è¡ŒæŠ•èµ„ä»¥è·å¾—æ›´å¤§çš„æ•ˆç›Š.é“¶è¡Œå·¥ä½œäººå‘˜å‘ä»–æä¾›äº†å¤šç§å€ºåˆ¸,æ¯ä¸€ç§å€ºåˆ¸éƒ½èƒ½åœ¨å›ºå®šçš„æŠ•èµ„å,æä¾›ç¨³å®šçš„å¹´åˆ©æ¯.å½“ç„¶,æ¯ä¸€ç§å€ºåˆ¸çš„æŠ•èµ„é¢æ˜¯ä¸åŒçš„,ä¸€èˆ¬æ¥è¯´,æŠ•èµ„è¶Šå¤§,æ”¶ç›Šä¹Ÿè¶Šå¤§,è€Œä¸”,æ¯ä¸€å¹´è¿˜å¯ä»¥æ ¹æ®èµ„é‡‘æ€»é¢çš„å¢åŠ ,æ›´æ¢æ”¶ç›Šæ›´å¤§çš„å€ºåˆ¸.
>
> ## é¢˜ç›®æè¿°
>
> ä¾‹å¦‚:æœ‰å¦‚ä¸‹ä¸¤ç§ä¸åŒçš„å€ºåˆ¸:
>
> 1. æŠ•èµ„é¢ $4000$4000,å¹´åˆ©æ¯ $400$400;
> 2. æŠ•èµ„é¢ $3000$3000,å¹´åˆ©æ¯ $250$250.
>
> åˆå§‹æ—¶,æœ‰ $10000$10000 çš„æ€»èµ„äº§,å¯ä»¥æŠ•èµ„ä¸¤ä»½å€ºåˆ¸ 1 å€ºåˆ¸,ä¸€å¹´è·å¾— $800$800 çš„åˆ©æ¯;è€ŒæŠ•èµ„ä¸€ä»½å€ºåˆ¸ 1 å’Œä¸¤ä»½å€ºåˆ¸ 2,ä¸€å¹´å¯è·å¾— $900$900 çš„åˆ©æ¯,ä¸¤å¹´å,å¯è·å¾— $1800$1800 çš„åˆ©æ¯;è€Œæ‰€æœ‰çš„èµ„äº§è¾¾åˆ° $11800$11800,ç„¶åå°†å–æ‰ä¸€ä»½å€ºåˆ¸ 2,æ¢è´­å€ºåˆ¸ 1,å¹´åˆ©æ¯å¯è¾¾åˆ° $1050$1050;ç¬¬ä¸‰å¹´å,æ€»èµ„äº§è¾¾åˆ° $12850$12850,å¯ä»¥è´­ä¹°ä¸‰ä»½å€ºåˆ¸ 1,å¹´åˆ©æ¯å¯è¾¾åˆ° $1200$1200,ç¬¬å››å¹´å,æ€»èµ„äº§å¯è¾¾åˆ° $14050$14050.
>
> ç°ç»™å®šè‹¥å¹²ç§å€ºåˆ¸ã€æœ€åˆçš„æ€»èµ„äº§,å¸®åŠ©çº¦ç¿°å…ˆç”Ÿè®¡ç®—,ç»è¿‡ ğ‘›*n* å¹´çš„æŠ•èµ„,æ€»èµ„äº§çš„æœ€å¤§å€¼.
>
> ## è¾“å…¥æ ¼å¼
>
> ç¬¬ä¸€è¡Œä¸ºä¸‰ä¸ªæ­£æ•´æ•° ğ‘ ,ğ‘›,ğ‘‘*s*,*n*,*d*,åˆ†åˆ«è¡¨ç¤ºæœ€åˆçš„æ€»èµ„äº§ã€å¹´æ•°å’Œå€ºåˆ¸çš„ç§ç±».
>
> æ¥ä¸‹æ¥ ğ‘‘*d* è¡Œ,æ¯è¡Œè¡¨ç¤ºä¸€ç§å€ºåˆ¸,ä¸¤ä¸ªæ­£æ•´æ•° ğ‘,ğ‘*a*,*b* åˆ†åˆ«è¡¨ç¤ºå€ºåˆ¸çš„æŠ•èµ„é¢å’Œå¹´åˆ©æ¯.
>
> ## è¾“å‡ºæ ¼å¼
>
> ä»…ä¸€ä¸ªæ•´æ•°,è¡¨ç¤º ğ‘›*n* å¹´åçš„æœ€å¤§æ€»èµ„äº§.
>
> ## è¾“å…¥è¾“å‡ºæ ·ä¾‹
>
> **è¾“å…¥ #1**å¤åˆ¶
>
> ```
> 10000 4 2
> 4000 400
> 3000 250
> ```
>
> **è¾“å‡º #1**å¤åˆ¶
>
> ```
> 14050
> ```
>
> ## è¯´æ˜/æç¤º
>
> å¯¹äº 100%100% çš„æ•°æ®,1â‰¤ğ‘ â‰¤1061â‰¤*s*â‰¤106,2â‰¤ğ‘›â‰¤402â‰¤*n*â‰¤40,1â‰¤ğ‘‘â‰¤101â‰¤*d*â‰¤10,1â‰¤ğ‘â‰¤1041â‰¤*a*â‰¤104,ä¸” ğ‘*a* æ˜¯ 10001000 çš„å€æ•°,ğ‘*b* ä¸è¶…è¿‡ ğ‘*a* çš„ 10%10%.

```c++
#include <algorithm>
#include <cmath>
#include <iostream>
#include <vector>

using namespace std;

int main() {
  int amount, year, kind;
  cin >> amount >> year >> kind;

  vector<int> cost(kind, 0);
  vector<int> reward(kind, 0);

  for (int i = 0; i < kind; i++) {
    cin >> cost[i] >> reward[i];
  }
  while (year--) {
    vector<int> dp(amount + 1, 0);
    for (int i = 0; i < kind; i++) {
      for (int j = cost[i]; j <= amount; j++) {
        dp[j] = max(dp[j], dp[j - cost[i]] + reward[i]);
      }
    }
    amount += dp[amount];
  }
  cout << amount << endl;
  return 0;
}
```

## [Luogu P1776å®ç‰©ç­›é€‰](https://www.luogu.org/problemnew/show/P1776)

> ## é¢˜ç›®æè¿°
>
> ç»ˆäº,ç ´è§£äº†åƒå¹´çš„éš¾é¢˜.å° FF æ‰¾åˆ°äº†ç‹å®¤çš„å®ç‰©å®¤,é‡Œé¢å †æ»¡äº†æ— æ•°ä»·å€¼è¿åŸçš„å®ç‰©.
>
> è¿™ä¸‹å° FF å¯å‘è´¢äº†,å˜å˜.ä½†æ˜¯è¿™é‡Œçš„å®ç‰©å®åœ¨æ˜¯å¤ªå¤šäº†,å° FF çš„é‡‡é›†è½¦ä¼¼ä¹è£…ä¸ä¸‹é‚£ä¹ˆå¤šå®ç‰©.çœ‹æ¥å° FF åªèƒ½å«æ³ªèˆå¼ƒå…¶ä¸­çš„ä¸€éƒ¨åˆ†å®ç‰©äº†.
>
> å° FF å¯¹æ´ç©´é‡Œçš„å®ç‰©è¿›è¡Œäº†æ•´ç†,ä»–å‘ç°æ¯æ ·å®ç‰©éƒ½æœ‰ä¸€ä»¶æˆ–è€…å¤šä»¶.ä»–ç²—ç•¥ä¼°ç®—äº†ä¸‹æ¯æ ·å®ç‰©çš„ä»·å€¼,ä¹‹åå¼€å§‹äº†å®ç‰©ç­›é€‰å·¥ä½œ:å° FF æœ‰ä¸€ä¸ªæœ€å¤§è½½é‡ä¸º ğ‘Š*W* çš„é‡‡é›†è½¦,æ´ç©´é‡Œæ€»å…±æœ‰ ğ‘›*n* ç§å®ç‰©,æ¯ç§å®ç‰©çš„ä»·å€¼ä¸º ğ‘£ğ‘–*v**i*,é‡é‡ä¸º ğ‘¤ğ‘–*w**i*,æ¯ç§å®ç‰©æœ‰ ğ‘šğ‘–*m**i* ä»¶.å° FF å¸Œæœ›åœ¨é‡‡é›†è½¦ä¸è¶…è½½çš„å‰æä¸‹,é€‰æ‹©ä¸€äº›å®ç‰©è£…è¿›é‡‡é›†è½¦,ä½¿å¾—å®ƒä»¬çš„ä»·å€¼å’Œæœ€å¤§.
>
> ## è¾“å…¥æ ¼å¼
>
> ç¬¬ä¸€è¡Œä¸ºä¸€ä¸ªæ•´æ•° ğ‘›*n* å’Œ ğ‘Š*W*,åˆ†åˆ«è¡¨ç¤ºå®ç‰©ç§æ•°å’Œé‡‡é›†è½¦çš„æœ€å¤§è½½é‡.
>
> æ¥ä¸‹æ¥ ğ‘›*n* è¡Œæ¯è¡Œä¸‰ä¸ªæ•´æ•° ğ‘£ğ‘–,ğ‘¤ğ‘–,ğ‘šğ‘–*v**i*,*w**i*,*m**i*.
>
> ## è¾“å‡ºæ ¼å¼
>
> è¾“å‡ºä»…ä¸€ä¸ªæ•´æ•°,è¡¨ç¤ºåœ¨é‡‡é›†è½¦ä¸è¶…è½½çš„æƒ…å†µä¸‹æ”¶é›†çš„å®ç‰©çš„æœ€å¤§ä»·å€¼.
>
> ## è¾“å…¥è¾“å‡ºæ ·ä¾‹
>
> **è¾“å…¥**
>
> ```
> 4 20
> 3 9 3
> 5 9 1
> 9 4 2
> 8 1 3
> ```
>
> **è¾“å‡º**
>
> ```
> 47
> ```
>
> ## è¯´æ˜/æç¤º
>
> å¯¹äº 30%30% çš„æ•°æ®,ğ‘›â‰¤âˆ‘ğ‘šğ‘–â‰¤104*n*â‰¤âˆ‘*m**i*â‰¤104,0â‰¤ğ‘Šâ‰¤1030â‰¤*W*â‰¤103.
>
> å¯¹äº 100%100% çš„æ•°æ®,ğ‘›â‰¤âˆ‘ğ‘šğ‘–â‰¤105*n*â‰¤âˆ‘*m**i*â‰¤105,0â‰¤ğ‘Šâ‰¤4Ã—1040â‰¤*W*â‰¤4Ã—104,1â‰¤ğ‘›â‰¤1001â‰¤*n*â‰¤100.

```c++
#include <iostream>
#include <vector>
using namespace std;
int main() {
  int w, n;
  cin >> n >> w;
  vector<int> weight(n, 0);
  vector<int> value(n, 0);
  vector<int> number(n, 0);
  vector<int> dp(w + 1, 0);
  for (int i = 0; i < n; i++) {
    cin >> value[i] >> weight[i] >> number[i];
  }
  for (int i = 0; i < n; i++) {
    int k = 1, an = number[i];
    int t_weight = k * weight[i], t_value = k * value[i];
    while (k < an) { // äºŒè¿›åˆ¶é€¼è¿‘
      t_weight = k * weight[i], t_value = k * value[i];
      for (int l = w; l >= t_weight; l--) {
        dp[l] = max(dp[l], dp[l - t_weight] + t_value);
      }
      an = an - k;
      k *= 2;
    }
    t_weight = an * weight[i], t_value = an * value[i];
    for (int l = w; l >= t_weight; l--) {
      dp[l] = max(dp[l], dp[l - t_weight] + t_value);
    }
  }
  cout << dp[w] << endl;
  return 0;
}
```

## [â… (æ™®é€šå¤šé‡èƒŒåŒ…)](https://www.acwing.com/problem/content/4/)

> æœ‰ Nç§ç‰©å“å’Œä¸€ä¸ªå®¹é‡æ˜¯ V çš„èƒŒåŒ….
>
> ç¬¬ iğ‘– ç§ç‰©å“æœ€å¤šæœ‰ siä»¶,æ¯ä»¶ä½“ç§¯æ˜¯ vi,ä»·å€¼æ˜¯ wi.
>
> æ±‚è§£å°†å“ªäº›ç‰©å“è£…å…¥èƒŒåŒ…,å¯ä½¿ç‰©å“ä½“ç§¯æ€»å’Œä¸è¶…è¿‡èƒŒåŒ…å®¹é‡,ä¸”ä»·å€¼æ€»å’Œæœ€å¤§.
> è¾“å‡ºæœ€å¤§ä»·å€¼.
>
> #### è¾“å…¥æ ¼å¼
>
> ç¬¬ä¸€è¡Œä¸¤ä¸ªæ•´æ•°,N,V,ğ‘‰,ç”¨ç©ºæ ¼éš”å¼€,åˆ†åˆ«è¡¨ç¤ºç‰©å“ç§æ•°å’ŒèƒŒåŒ…å®¹ç§¯.
>
> æ¥ä¸‹æ¥æœ‰ N è¡Œ,æ¯è¡Œä¸‰ä¸ªæ•´æ•° vi,wi,siç”¨ç©ºæ ¼éš”å¼€,åˆ†åˆ«è¡¨ç¤ºç¬¬ iğ‘– ç§ç‰©å“çš„ä½“ç§¯ã€ä»·å€¼å’Œæ•°é‡.
>
> #### è¾“å‡ºæ ¼å¼
>
> è¾“å‡ºä¸€ä¸ªæ•´æ•°,è¡¨ç¤ºæœ€å¤§ä»·å€¼.
>
> #### æ•°æ®èŒƒå›´
>
> 0<N,Vâ‰¤100
> 0<vi,wi,siâ‰¤100
>
> #### è¾“å…¥æ ·ä¾‹
>
> ```
> 4 5
> 1 2 3
> 2 4 1
> 3 4 3
> 4 5 2
> ```
>
> #### è¾“å‡ºæ ·ä¾‹:
>
> ```
> 10
> ```

```c++
```

## [â…¡(äºŒè¿›åˆ¶ä¼˜åŒ–)](https://www.acwing.com/problem/content/5/)

> æœ‰ Nğ‘ ç§ç‰©å“å’Œä¸€ä¸ªå®¹é‡æ˜¯ Vğ‘‰ çš„èƒŒåŒ….
>
> ç¬¬ iğ‘– ç§ç‰©å“æœ€å¤šæœ‰ siä»¶,æ¯ä»¶ä½“ç§¯æ˜¯ vi,ä»·å€¼æ˜¯ wi.
>
> æ±‚è§£å°†å“ªäº›ç‰©å“è£…å…¥èƒŒåŒ…,å¯ä½¿ç‰©å“ä½“ç§¯æ€»å’Œä¸è¶…è¿‡èƒŒåŒ…å®¹é‡,ä¸”ä»·å€¼æ€»å’Œæœ€å¤§.
> è¾“å‡ºæœ€å¤§ä»·å€¼.
>
> #### è¾“å…¥æ ¼å¼
>
> ç¬¬ä¸€è¡Œä¸¤ä¸ªæ•´æ•°,N,V,ğ‘‰,ç”¨ç©ºæ ¼éš”å¼€,åˆ†åˆ«è¡¨ç¤ºç‰©å“ç§æ•°å’ŒèƒŒåŒ…å®¹ç§¯.
>
> æ¥ä¸‹æ¥æœ‰ N è¡Œ,æ¯è¡Œä¸‰ä¸ªæ•´æ•° $vi,wi,si$ç”¨ç©ºæ ¼éš”å¼€,åˆ†åˆ«è¡¨ç¤ºç¬¬ i ç§ç‰©å“çš„ä½“ç§¯ã€ä»·å€¼å’Œæ•°é‡.
>
> #### è¾“å‡ºæ ¼å¼
>
> è¾“å‡ºä¸€ä¸ªæ•´æ•°,è¡¨ç¤ºæœ€å¤§ä»·å€¼.
>
> #### æ•°æ®èŒƒå›´
>
> $0<Nâ‰¤1000$
> $0<Vâ‰¤2000$
> $0<vi,wi,siâ‰¤20000$
>
> ##### æç¤º:
>
> æœ¬é¢˜è€ƒæŸ¥å¤šé‡èƒŒåŒ…çš„äºŒè¿›åˆ¶ä¼˜åŒ–æ–¹æ³•.
>
> #### è¾“å…¥æ ·ä¾‹
>
> ```
> 4 5
> 1 2 3
> 2 4 1
> 3 4 3
> 4 5 2
> ```
>
> #### è¾“å‡ºæ ·ä¾‹:
>
> ```
> 10
> ```

```c++

```

## [â…¢(å•è°ƒé˜Ÿåˆ—ä¼˜åŒ–)](https://www.acwing.com/problem/content/6/)

> æœ‰ Nğ‘ ç§ç‰©å“å’Œä¸€ä¸ªå®¹é‡æ˜¯ Vğ‘‰ çš„èƒŒåŒ….
>
> ç¬¬ iğ‘– ç§ç‰©å“æœ€å¤šæœ‰ siğ‘ ğ‘– ä»¶,æ¯ä»¶ä½“ç§¯æ˜¯ viğ‘£ğ‘–,ä»·å€¼æ˜¯ wiğ‘¤ğ‘–.
>
> æ±‚è§£å°†å“ªäº›ç‰©å“è£…å…¥èƒŒåŒ…,å¯ä½¿ç‰©å“ä½“ç§¯æ€»å’Œä¸è¶…è¿‡èƒŒåŒ…å®¹é‡,ä¸”ä»·å€¼æ€»å’Œæœ€å¤§.
> è¾“å‡ºæœ€å¤§ä»·å€¼.
>
> #### è¾“å…¥æ ¼å¼
>
> ç¬¬ä¸€è¡Œä¸¤ä¸ªæ•´æ•°,N,V(0<Nâ‰¤1000, 0<Vâ‰¤20000),ç”¨ç©ºæ ¼éš”å¼€,åˆ†åˆ«è¡¨ç¤ºç‰©å“ç§æ•°å’ŒèƒŒåŒ…å®¹ç§¯.
>
> æ¥ä¸‹æ¥æœ‰ Nğ‘ è¡Œ,æ¯è¡Œä¸‰ä¸ªæ•´æ•° vi,wi,si,ç”¨ç©ºæ ¼éš”å¼€,åˆ†åˆ«è¡¨ç¤ºç¬¬ i ç§ç‰©å“çš„ä½“ç§¯ã€ä»·å€¼å’Œæ•°é‡.
>
> #### è¾“å‡ºæ ¼å¼
>
> è¾“å‡ºä¸€ä¸ªæ•´æ•°,è¡¨ç¤ºæœ€å¤§ä»·å€¼.
>
> #### æ•°æ®èŒƒå›´
>
> 0<Nâ‰¤1000
> 0<Vâ‰¤20000
> 0<vi,wi,siâ‰¤20000
>
> ##### æç¤º
>
> æœ¬é¢˜è€ƒæŸ¥å¤šé‡èƒŒåŒ…çš„å•è°ƒé˜Ÿåˆ—ä¼˜åŒ–æ–¹æ³•.
>
> #### è¾“å…¥æ ·ä¾‹
>
> ```
> 4 5
> 1 2 3
> 2 4 1
> 3 4 3
> 4 5 2
> ```
>
> #### è¾“å‡ºæ ·ä¾‹:
>
> ```
> 10
> ```

```c++

```

## [AcWing æ··åˆèƒŒåŒ…é—®é¢˜](https://www.acwing.com/problem/content/7/)

> æœ‰ Nğ‘ ç§ç‰©å“å’Œä¸€ä¸ªå®¹é‡æ˜¯ Vğ‘‰ çš„èƒŒåŒ….
>
> ç‰©å“ä¸€å…±æœ‰ä¸‰ç±»:
>
> - ç¬¬ä¸€ç±»ç‰©å“åªèƒ½ç”¨1æ¬¡(01èƒŒåŒ…);
> - ç¬¬äºŒç±»ç‰©å“å¯ä»¥ç”¨æ— é™æ¬¡(å®Œå…¨èƒŒåŒ…);
> - ç¬¬ä¸‰ç±»ç‰©å“æœ€å¤šåªèƒ½ç”¨ si æ¬¡(å¤šé‡èƒŒåŒ…);
>
> æ¯ç§ä½“ç§¯æ˜¯ vi,ä»·å€¼æ˜¯ wi.
>
> æ±‚è§£å°†å“ªäº›ç‰©å“è£…å…¥èƒŒåŒ…,å¯ä½¿ç‰©å“ä½“ç§¯æ€»å’Œä¸è¶…è¿‡èƒŒåŒ…å®¹é‡,ä¸”ä»·å€¼æ€»å’Œæœ€å¤§.
> è¾“å‡ºæœ€å¤§ä»·å€¼.
>
> #### è¾“å…¥æ ¼å¼
>
> ç¬¬ä¸€è¡Œä¸¤ä¸ªæ•´æ•°,N,Vç”¨ç©ºæ ¼éš”å¼€,åˆ†åˆ«è¡¨ç¤ºç‰©å“ç§æ•°å’ŒèƒŒåŒ…å®¹ç§¯.
>
> æ¥ä¸‹æ¥æœ‰ Nğ‘ è¡Œ,æ¯è¡Œä¸‰ä¸ªæ•´æ•° vi,wi,siç”¨ç©ºæ ¼éš”å¼€,åˆ†åˆ«è¡¨ç¤ºç¬¬ iğ‘– ç§ç‰©å“çš„ä½“ç§¯ã€ä»·å€¼å’Œæ•°é‡.
>
> - si=âˆ’1 è¡¨ç¤ºç¬¬ iç§ç‰©å“åªèƒ½ç”¨1æ¬¡;
> - si=0 è¡¨ç¤ºç¬¬ iç§ç‰©å“å¯ä»¥ç”¨æ— é™æ¬¡;
> - si>0 è¡¨ç¤ºç¬¬ i ç§ç‰©å“å¯ä»¥ä½¿ç”¨ si æ¬¡;
>
> #### è¾“å‡ºæ ¼å¼
>
> è¾“å‡ºä¸€ä¸ªæ•´æ•°,è¡¨ç¤ºæœ€å¤§ä»·å€¼.
>
> #### æ•°æ®èŒƒå›´
>
> 0<N,Vâ‰¤1000
> 0<vi,wiâ‰¤1000
> âˆ’1â‰¤siâ‰¤1000
>
> #### è¾“å…¥æ ·ä¾‹
>
> ```
> 4 5
> 1 2 -1
> 2 4 1
> 3 4 0
> 4 5 2
> ```
>
> #### è¾“å‡ºæ ·ä¾‹:
>
> ```
> 8
> ```

```c++
#include <iostream>
#include <vector>
using namespace std;

int main() {
  int n, v;
  cin >> n >> v;
  vector<int> cost(n, 0);
  vector<int> value(n, 0);
  vector<int> number(n, 0);
  vector<int> dp(v + 1, 0);

  for (int i = 0; i < n; i++) {
    cin >> cost[i] >> value[i] >> number[i];
  }

  for (int i = 0; i < n; i++) {
    if (number[i] == -1) { // 01èƒŒåŒ…
      for (int j = v; j >= cost[i]; j--) {
        dp[j] = max(dp[j], dp[j - cost[i]] + value[i]);
      }
    } else if (number[i] == 0) { // å®Œå…¨èƒŒåŒ…
      for (int j = cost[i]; j <= v; j++) {
        dp[j] = max(dp[j], dp[j - cost[i]] + value[i]);
      }
    } else { // å¤šé‡èƒŒåŒ…
      int k = 1, an = number[i];
      int t_cost = k * cost[i], t_value = k * value[i];
      while (k < an) {
        t_cost = k * cost[i], t_value = k * value[i];
        for (int l = v; l >= t_cost; l--) {
          dp[l] = max(dp[l], dp[l - t_cost] + t_value);
        }
        an = an - k;
        k *= 2;
      }
      t_cost = an * cost[i], t_value = an * value[i];
      for (int l = v; l >= t_cost; l--) {
        dp[l] = max(dp[l], dp[l - t_cost] + t_value);
      }
    }
  }

  cout << dp[v] << endl;
  return 0;
}
```

## [Luogu P1833æ¨±èŠ±](https://www.luogu.org/problemnew/show/P1833)

> ## é¢˜ç›®èƒŒæ™¯
>
> <çˆ±ä¸æ„çš„æ•…äº‹ç¬¬å››å¼¹.plant>ç¬¬ä¸€ç« .
>
> ## é¢˜ç›®æè¿°
>
> çˆ±ä¸æ„å¤§ç¥åé™¢é‡Œç§äº† ğ‘›*n* æ£µæ¨±èŠ±æ ‘,æ¯æ£µéƒ½æœ‰ç¾å­¦å€¼ ğ¶ğ‘–(0â‰¤ğ¶ğ‘–â‰¤200)*C**i*(0â‰¤*C**i*â‰¤200).çˆ±ä¸æ„å¤§ç¥åœ¨æ¯å¤©ä¸Šå­¦å‰éƒ½ä¼šæ¥èµèŠ±.çˆ±ä¸æ„å¤§ç¥å¯æ˜¯ç”Ÿç‰©å­¦éœ¸,ä»–æ‡‚å¾—å¦‚ä½•æ¬£èµæ¨±èŠ±:ä¸€ç§æ¨±èŠ±æ ‘çœ‹ä¸€éè¿‡,ä¸€ç§æ¨±èŠ±æ ‘æœ€å¤šçœ‹ ğ‘ƒğ‘–(0â‰¤ğ‘ƒğ‘–â‰¤100)*P**i*(0â‰¤*P**i*â‰¤100) é,ä¸€ç§æ¨±èŠ±æ ‘å¯ä»¥çœ‹æ— æ•°é.ä½†æ˜¯çœ‹æ¯æ£µæ¨±èŠ±æ ‘éƒ½æœ‰ä¸€å®šçš„æ—¶é—´ ğ‘‡ğ‘–(0â‰¤ğ‘‡ğ‘–â‰¤100)*T**i*(0â‰¤*T**i*â‰¤100).çˆ±ä¸æ„å¤§ç¥ç¦»å»ä¸Šå­¦çš„æ—¶é—´åªå‰©ä¸‹ä¸€å°ä¼šå„¿äº†.æ±‚è§£çœ‹å“ªå‡ æ£µæ¨±èŠ±æ ‘èƒ½ä½¿ç¾å­¦å€¼æœ€é«˜ä¸”çˆ±ä¸æ„å¤§ç¥èƒ½å‡†æ—¶(æˆ–ææ—©)å»ä¸Šå­¦.
>
> ## è¾“å…¥æ ¼å¼
>
> å…± ğ‘›+1*n*+1è¡Œ:
>
> ç¬¬ 11 è¡Œ:ç°åœ¨æ—¶é—´ ğ‘‡ğ‘ *T**s*(å‡ æ—¶:å‡ åˆ†),å»ä¸Šå­¦çš„æ—¶é—´ ğ‘‡ğ‘’*T**e*(å‡ æ—¶:å‡ åˆ†),çˆ±ä¸æ„å¤§ç¥é™¢å­é‡Œæœ‰å‡ æ£µæ¨±èŠ±æ ‘ ğ‘›*n*.è¿™é‡Œçš„ ğ‘‡ğ‘ *T**s*,ğ‘‡ğ‘’*T**e* æ ¼å¼ä¸º:`hh:mm`,å…¶ä¸­ 0â‰¤â„â„â‰¤230â‰¤*h**h*â‰¤23,0â‰¤ğ‘šğ‘šâ‰¤590â‰¤*m**m*â‰¤59,ä¸” â„â„,ğ‘šğ‘š,ğ‘›*h**h*,*m**m*,*n* å‡ä¸ºæ­£æ•´æ•°.
>
> ç¬¬ 22 è¡Œåˆ°ç¬¬ ğ‘›+1*n*+1 è¡Œ,æ¯è¡Œä¸‰ä¸ªæ­£æ•´æ•°:çœ‹å®Œç¬¬ ğ‘–*i* æ£µæ ‘çš„è€—è´¹æ—¶é—´ ğ‘‡ğ‘–*T**i*,ç¬¬ ğ‘–*i* æ£µæ ‘çš„ç¾å­¦å€¼ ğ¶ğ‘–*C**i*,çœ‹ç¬¬ ğ‘–*i* æ£µæ ‘çš„æ¬¡æ•° ğ‘ƒğ‘–*P**i*(ğ‘ƒğ‘–=0*P**i*=0 è¡¨ç¤ºæ— æ•°æ¬¡,ğ‘ƒğ‘–*P**i* æ˜¯å…¶ä»–æ•°å­—è¡¨ç¤ºæœ€å¤šå¯çœ‹çš„æ¬¡æ•° ğ‘ƒğ‘–*P**i*).
>
> ## è¾“å‡ºæ ¼å¼
>
> åªæœ‰ä¸€ä¸ªæ•´æ•°,è¡¨ç¤ºæœ€å¤§ç¾å­¦å€¼.
>
> ## è¾“å…¥è¾“å‡ºæ ·ä¾‹
>
> **è¾“å…¥ #1**å¤åˆ¶
>
> ```
> 6:50 7:00 3
> 2 1 0
> 3 3 1
> 4 5 4
> ```
>
> **è¾“å‡º #1**å¤åˆ¶
>
> ```
> 11
> ```
>
> ## è¯´æ˜/æç¤º
>
> 100%100% æ•°æ®:ğ‘‡ğ‘’âˆ’ğ‘‡ğ‘ â‰¤1000*T**e*âˆ’*T**s*â‰¤1000(å³å¼€å§‹æ—¶é—´è·ç¦»ç»“æŸæ—¶é—´ä¸è¶…è¿‡ 10001000 åˆ†é’Ÿ),ğ‘›â‰¤10000*n*â‰¤10000.ä¿è¯ ğ‘‡ğ‘’,ğ‘‡ğ‘ *T**e*,*T**s* ä¸ºåŒä¸€å¤©å†…çš„æ—¶é—´.
>
> æ ·ä¾‹è§£é‡Š:èµç¬¬ä¸€æ£µæ¨±èŠ±æ ‘ä¸€æ¬¡,èµç¬¬ä¸‰æ£µæ¨±èŠ±æ ‘ 22 æ¬¡.

```c++
#include <iostream>
#include <sstream>
#include <vector>
using namespace std;

int main() {
  int h1, h2, m1, m2, t;
  char a1, a2;
  cin >> h1 >> a1 >> m1;
  cin >> h2 >> a2 >> m2;
  t = h2 * 60 + m2 - (h1 * 60 + m1);

  int n;
  cin >> n;
  vector<int> cost(n, 0);
  vector<int> value(n, 0);
  vector<int> number(n, 0);
  vector<int> dp(t + 1, 0);

  for (int i = 0; i < n; i++) {
    cin >> cost[i] >> value[i] >> number[i];
  }

  for (int i = 0; i < n; i++) {
    if (number[i]) {
      for (int j = t; j >= 0; j--) {
        for (int k = 0; k <= number[i]; k++) {
          if (j >= k * cost[i]) {
            dp[j] = max(dp[j], dp[j - k * cost[i]] + value[i] * k);
          }
        }
      }
    } else {
      for (int j = t; j >= 0; j--) {
        for (int k = 0; k <= j / cost[i]; k++) {
          if (j >= k * cost[i]) {
            dp[j] = max(dp[j], dp[j - k * cost[i]] + value[i] * k);
          }
        }
      }
    }
  }

  cout << dp[t] << endl; // è¾“å‡ºæœ€ç»ˆæœ€å¤§ç¾å­¦å€¼
  return 0;
}
```

## [AcWingäºŒç»´è´¹ç”¨çš„èƒŒåŒ…é—®é¢˜](https://www.acwing.com/problem/content/8/)

> æœ‰ Nğ‘ ä»¶ç‰©å“å’Œä¸€ä¸ªå®¹é‡æ˜¯ Vğ‘‰ çš„èƒŒåŒ…,èƒŒåŒ…èƒ½æ‰¿å—çš„æœ€å¤§é‡é‡æ˜¯ Mğ‘€.
>
> æ¯ä»¶ç‰©å“åªèƒ½ç”¨ä¸€æ¬¡.ä½“ç§¯æ˜¯ viğ‘£ğ‘–,é‡é‡æ˜¯ miğ‘šğ‘–,ä»·å€¼æ˜¯ wiğ‘¤ğ‘–.
>
> æ±‚è§£å°†å“ªäº›ç‰©å“è£…å…¥èƒŒåŒ…,å¯ä½¿ç‰©å“æ€»ä½“ç§¯ä¸è¶…è¿‡èƒŒåŒ…å®¹é‡,æ€»é‡é‡ä¸è¶…è¿‡èƒŒåŒ…å¯æ‰¿å—çš„æœ€å¤§é‡é‡,ä¸”ä»·å€¼æ€»å’Œæœ€å¤§.
> è¾“å‡ºæœ€å¤§ä»·å€¼.
>
> #### è¾“å…¥æ ¼å¼
>
> ç¬¬ä¸€è¡Œä¸‰ä¸ªæ•´æ•°,N,V,Mğ‘,ğ‘‰,ğ‘€,ç”¨ç©ºæ ¼éš”å¼€,åˆ†åˆ«è¡¨ç¤ºç‰©å“ä»¶æ•°ã€èƒŒåŒ…å®¹ç§¯å’ŒèƒŒåŒ…å¯æ‰¿å—çš„æœ€å¤§é‡é‡.
>
> æ¥ä¸‹æ¥æœ‰ Nğ‘ è¡Œ,æ¯è¡Œä¸‰ä¸ªæ•´æ•° vi,mi,wiğ‘£ğ‘–,ğ‘šğ‘–,ğ‘¤ğ‘–,ç”¨ç©ºæ ¼éš”å¼€,åˆ†åˆ«è¡¨ç¤ºç¬¬ iğ‘– ä»¶ç‰©å“çš„ä½“ç§¯ã€é‡é‡å’Œä»·å€¼.
>
> #### è¾“å‡ºæ ¼å¼
>
> è¾“å‡ºä¸€ä¸ªæ•´æ•°,è¡¨ç¤ºæœ€å¤§ä»·å€¼.
>
> #### æ•°æ®èŒƒå›´
>
> 0<Nâ‰¤10000<ğ‘â‰¤1000
> 0<V,Mâ‰¤1000<ğ‘‰,ğ‘€â‰¤100
> 0<vi,miâ‰¤1000<ğ‘£ğ‘–,ğ‘šğ‘–â‰¤100
> 0<wiâ‰¤10000<ğ‘¤ğ‘–â‰¤1000
>
> #### è¾“å…¥æ ·ä¾‹
>
> ```
> 4 5 6
> 1 2 3
> 2 4 4
> 3 4 5
> 4 5 6
> ```
>
> #### è¾“å‡ºæ ·ä¾‹:
>
> ```
> 8
> ```

```c++
#include <iostream>
#include <vector>
using namespace std;

int main() {
  int n, av, am;
  cin >> n >> av >> am;
  vector<int> v(n, 0), m(n, 0), w(n, 0);
  for (int i = 0; i < n; i++) {
    cin >> v[i] >> m[i] >> w[i];
  }
  vector<vector<int>> dp(av + 1, vector<int>(am + 1, 0));
  for (int i = 0; i < n; i++) {
    for (int j = av; j >= v[i]; j--) {
      for (int k = am; k >= m[i]; k--) {
        dp[j][k] = max(dp[j][k], dp[j - v[i]][k - m[i]] + w[i]);
      }
    }
  }
  cout << dp[av][am] << endl;
  return 0;
}
```



## [Luogu 1507 NASAçš„é£Ÿç‰©è®¡åˆ’](https://www.luogu.org/problemnew/show/P1507)

> ## é¢˜ç›®èƒŒæ™¯
>
> NASA(ç¾å›½èˆªç©ºèˆªå¤©å±€)å› ä¸ºèˆªå¤©é£æœºçš„éš”çƒ­ç“¦ç­‰å…¶ä»–å®‰å…¨æŠ€æœ¯é—®é¢˜ä¸€ç›´å¤§ä¼¤è„‘ç­‹,å› æ­¤åœ¨å„æ–¹å‹åŠ›ä¸‹ç»ˆæ­¢äº†èˆªå¤©é£æœºçš„å†å²,ä½†æ˜¯æ­¤ç±»äº‹æƒ…ä¼šä¸ä¼šåœ¨ä»¥åå‘ç”Ÿ,è°ä¹Ÿæ— æ³•ä¿è¯.æ‰€ä»¥,åœ¨é‡åˆ°è¿™ç±»èˆªå¤©é—®é¢˜æ—¶,ä¹Ÿè®¸åªèƒ½è®©èˆªå¤©å‘˜å‡ºä»“ç»´ä¿®.ä½†æ˜¯è¿‡å¤šçš„ç»´ä¿®ä¼šæ¶ˆè€—èˆªå¤©å‘˜å¤§é‡çš„èƒ½é‡,å› æ­¤ NASA ä¾¿æƒ³è®¾è®¡ä¸€ç§é£Ÿå“æ–¹æ¡ˆ,ä½¿ä½“ç§¯å’Œæ‰¿é‡æœ‰é™çš„æ¡ä»¶ä¸‹å¤šè£…è½½ä¸€äº›é«˜å¡è·¯é‡Œçš„é£Ÿç‰©.
>
> ## é¢˜ç›®æè¿°
>
> èˆªå¤©é£æœºçš„ä½“ç§¯æœ‰é™,å½“ç„¶å¦‚æœè½½è¿‡é‡çš„ç‰©å“,ç‡ƒæ–™ä¼šæµªè´¹å¾ˆå¤šé’±,æ¯ä»¶é£Ÿå“éƒ½æœ‰å„è‡ªçš„ä½“ç§¯ã€è´¨é‡ä»¥åŠæ‰€å«å¡è·¯é‡Œ.åœ¨å‘Šè¯‰ä½ ä½“ç§¯å’Œè´¨é‡çš„æœ€å¤§å€¼çš„æƒ…å†µä¸‹,è¯·è¾“å‡ºèƒ½è¾¾åˆ°çš„é£Ÿå“æ–¹æ¡ˆæ‰€å«å¡è·¯é‡Œçš„æœ€å¤§å€¼,å½“ç„¶æ¯ä¸ªé£Ÿå“åªèƒ½ä½¿ç”¨ä¸€æ¬¡.
>
> ## è¾“å…¥æ ¼å¼
>
> ç¬¬ä¸€è¡Œ 22 ä¸ªæ•´æ•°,åˆ†åˆ«ä»£è¡¨ä½“ç§¯æœ€å¤§å€¼ â„*h* å’Œè´¨é‡æœ€å¤§å€¼ ğ‘¡*t*.
>
> ç¬¬äºŒè¡Œ 11 ä¸ªæ•´æ•°ä»£è¡¨é£Ÿå“æ€»æ•° ğ‘›*n*.
>
> æ¥ä¸‹æ¥ ğ‘›*n* è¡Œæ¯è¡Œ 33 ä¸ªæ•° ä½“ç§¯ â„ğ‘–*h**i*,è´¨é‡ ğ‘¡ğ‘–*t**i*,æ‰€å«å¡è·¯é‡Œ ğ‘˜ğ‘–*k**i*.
>
> ## è¾“å‡ºæ ¼å¼
>
> ä¸€ä¸ªæ•°,è¡¨ç¤ºæ‰€èƒ½è¾¾åˆ°çš„æœ€å¤§å¡è·¯é‡Œ(`int` èŒƒå›´å†…)
>
> ## è¾“å…¥è¾“å‡ºæ ·ä¾‹
>
> **è¾“å…¥ #1**å¤åˆ¶
>
> ```
> 320 350
> 4
> 160 40 120
> 80 110 240
> 220 70 310
> 40 400 220
> ```
>
> **è¾“å‡º #1**å¤åˆ¶
>
> ```
> 550
> ```
>
> ## è¯´æ˜/æç¤º
>
> å¯¹äº 100%100% çš„æ•°æ®,â„,ğ‘¡,â„ğ‘–,ğ‘¡ğ‘–â‰¤400*h*,*t*,*h**i*,*t**i*â‰¤400,ğ‘›â‰¤50*n*â‰¤50,ğ‘˜ğ‘–â‰¤500*k**i*â‰¤500.

```c++
#include <iostream>
#include <vector>
using namespace std;

int main() {
  int n, av, am;
  cin >> av >> am;
  cin >> n;
  vector<int> v(n, 0), m(n, 0), w(n, 0);
  for (int i = 0; i < n; i++) {
    cin >> v[i] >> m[i] >> w[i];
  }
  vector<vector<int>> dp(av + 1, vector<int>(am + 1, 0));
  for (int i = 0; i < n; i++) {
    for (int j = av; j >= v[i]; j--) {
      for (int k = am; k >= m[i]; k--) {
        dp[j][k] = max(dp[j][k], dp[j - v[i]][k - m[i]] + w[i]);
      }
    }
  }
  cout << dp[av][am] << endl;
  return 0;
}
```

## [AcWingåˆ†ç»„èƒŒåŒ…é—®é¢˜](https://www.acwing.com/problem/content/description/9/)

> æœ‰ Nğ‘ ç»„ç‰©å“å’Œä¸€ä¸ªå®¹é‡æ˜¯ Vğ‘‰ çš„èƒŒåŒ….
>
> æ¯ç»„ç‰©å“æœ‰è‹¥å¹²ä¸ª,åŒä¸€ç»„å†…çš„ç‰©å“æœ€å¤šåªèƒ½é€‰ä¸€ä¸ª.
> æ¯ä»¶ç‰©å“çš„ä½“ç§¯æ˜¯ vijğ‘£ğ‘–ğ‘—,ä»·å€¼æ˜¯ wijğ‘¤ğ‘–ğ‘—,å…¶ä¸­ iğ‘– æ˜¯ç»„å·,jğ‘— æ˜¯ç»„å†…ç¼–å·.
>
> æ±‚è§£å°†å“ªäº›ç‰©å“è£…å…¥èƒŒåŒ…,å¯ä½¿ç‰©å“æ€»ä½“ç§¯ä¸è¶…è¿‡èƒŒåŒ…å®¹é‡,ä¸”æ€»ä»·å€¼æœ€å¤§.
>
> è¾“å‡ºæœ€å¤§ä»·å€¼.
>
> #### è¾“å…¥æ ¼å¼
>
> ç¬¬ä¸€è¡Œæœ‰ä¸¤ä¸ªæ•´æ•° N,Vğ‘,ğ‘‰,ç”¨ç©ºæ ¼éš”å¼€,åˆ†åˆ«è¡¨ç¤ºç‰©å“ç»„æ•°å’ŒèƒŒåŒ…å®¹é‡.
>
> æ¥ä¸‹æ¥æœ‰ Nğ‘ ç»„æ•°æ®:
>
> - æ¯ç»„æ•°æ®ç¬¬ä¸€è¡Œæœ‰ä¸€ä¸ªæ•´æ•° Siğ‘†ğ‘–,è¡¨ç¤ºç¬¬ iğ‘– ä¸ªç‰©å“ç»„çš„ç‰©å“æ•°é‡;
> - æ¯ç»„æ•°æ®æ¥ä¸‹æ¥æœ‰ Siğ‘†ğ‘– è¡Œ,æ¯è¡Œæœ‰ä¸¤ä¸ªæ•´æ•° vij,wijğ‘£ğ‘–ğ‘—,ğ‘¤ğ‘–ğ‘—,ç”¨ç©ºæ ¼éš”å¼€,åˆ†åˆ«è¡¨ç¤ºç¬¬ iğ‘– ä¸ªç‰©å“ç»„çš„ç¬¬ jğ‘— ä¸ªç‰©å“çš„ä½“ç§¯å’Œä»·å€¼;
>
> #### è¾“å‡ºæ ¼å¼
>
> è¾“å‡ºä¸€ä¸ªæ•´æ•°,è¡¨ç¤ºæœ€å¤§ä»·å€¼.
>
> #### æ•°æ®èŒƒå›´
>
> 0<N,Vâ‰¤1000<ğ‘,ğ‘‰â‰¤100
> 0<Siâ‰¤1000<ğ‘†ğ‘–â‰¤100
> 0<vij,wijâ‰¤1000<ğ‘£ğ‘–ğ‘—,ğ‘¤ğ‘–ğ‘—â‰¤100
>
> #### è¾“å…¥æ ·ä¾‹
>
> ```
> 3 5
> 2
> 1 2
> 2 4
> 1
> 3 4
> 1
> 4 5
> ```
>
> #### è¾“å‡ºæ ·ä¾‹:
>
> ```
> 8
> ```

```c++
#include <iostream>
#include <vector>
using namespace std;
int main() {
  int m, n;
  cin >> n >> m;
  vector<int> weight;
  vector<int> value;
  vector<int> group;
  vector<vector<int>> index(101, vector<int>());
  vector<int> dp(m + 1, 0);
  for (int i = 1; i <= n; i++) {
    int temp;
    cin >> temp;
    for (int j = 0; j < temp; j++) {
      int a, b;
      cin >> a >> b;
      weight.push_back(a);
      value.push_back(b);
      group.push_back(i);
      index[i].push_back(group.size() - 1);
    }
  }
  for (int i = 1; i <= 100; i++) {
    for (int j = m; j >= 0; j--) {
      for (int k = 0; k < index[i].size(); k++) {
        if (j >= weight[index[i][k]]) {
          dp[j] = max(dp[j], dp[j - weight[index[i][k]]] + value[index[i][k]]);
        }
      }
    }
  }
  cout << dp[m] << endl;
  return 0;
}
```

## [Luogu P1757é€šå¤©ä¹‹åˆ†ç»„èƒŒåŒ…](https://www.luogu.org/problemnew/show/P1757#sub)

> ## é¢˜ç›®èƒŒæ™¯
>
> ç›´è¾¾é€šå¤©è·¯.å° A å†é™©è®°ç¬¬äºŒç¯‡
>
> ## é¢˜ç›®æè¿°
>
> è‡ª 0101 èƒŒåŒ…é—®ä¸–ä¹‹å,å° A å¯¹æ­¤æ·±æ„Ÿå…´è¶£.ä¸€å¤©,å° A å»è¿œæ¸¸,å´å‘ç°ä»–çš„èƒŒåŒ…ä¸åŒäº 0101 èƒŒåŒ…,ä»–çš„ç‰©å“å¤§è‡´å¯åˆ†ä¸º ğ‘˜*k* ç»„,æ¯ç»„ä¸­çš„ç‰©å“ç›¸äº’å†²çª,ç°åœ¨,ä»–æƒ³çŸ¥é“æœ€å¤§çš„åˆ©ç”¨ä»·å€¼æ˜¯å¤šå°‘.
>
> ## è¾“å…¥æ ¼å¼
>
> ä¸¤ä¸ªæ•° ğ‘š,ğ‘›*m*,*n*,è¡¨ç¤ºä¸€å…±æœ‰ ğ‘›*n* ä»¶ç‰©å“,æ€»é‡é‡ä¸º ğ‘š*m*.
>
> æ¥ä¸‹æ¥ ğ‘›*n* è¡Œ,æ¯è¡Œ 33 ä¸ªæ•° ğ‘ğ‘–,ğ‘ğ‘–,ğ‘ğ‘–*a**i*,*b**i*,*c**i*,è¡¨ç¤ºç‰©å“çš„é‡é‡,åˆ©ç”¨ä»·å€¼,æ‰€å±ç»„æ•°.
>
> ## è¾“å‡ºæ ¼å¼
>
> ä¸€ä¸ªæ•°,æœ€å¤§çš„åˆ©ç”¨ä»·å€¼.
>
> ## è¾“å…¥è¾“å‡ºæ ·ä¾‹
>
> **è¾“å…¥ #1**
>
> ```
> 45 3
> 10 10 1
> 10 5 1
> 50 400 2
> ```
>
> **è¾“å‡º #1**
>
> ```
> 10
> ```
>
> ## è¯´æ˜/æç¤º
>
> 0â‰¤ğ‘šâ‰¤10000â‰¤*m*â‰¤1000,1â‰¤ğ‘›â‰¤10001â‰¤*n*â‰¤1000,1â‰¤ğ‘˜â‰¤1001â‰¤*k*â‰¤100,ğ‘ğ‘–,ğ‘ğ‘–,ğ‘ğ‘–*a**i*,*b**i*,*c**i* åœ¨ `int` èŒƒå›´å†….

```c++
#include <iostream>
#include <vector>
using namespace std;
int main() {
  int m, n;
  cin >> m >> n;
  vector<int> weight(n, 0);
  vector<int> value(n, 0);
  vector<int> group(n, 0);
  vector<vector<int>> index(101, vector<int>());
  vector<int> dp(m + 1, 0);
  for (int i = 0; i < n; i++) {
    cin >> weight[i] >> value[i] >> group[i];
    index[group[i]].push_back(i);
  }
  for (int i = 1; i <= 100; i++) {
    for (int j = m; j >= 0; j--) {
      for (int k = 0; k < index[i].size(); k++) {
        if (j >= weight[index[i][k]]) {
          dp[j] = max(dp[j], dp[j - weight[index[i][k]]] + value[index[i][k]]);
        }
      }
    }
  }
  cout << dp[m] << endl;
  return 0;
}
```

## [OpenJudge - 2806:å…¬å…±å­åºåˆ—](http://bailian.openjudge.cn/practice/2806)

> - æ€»æ—¶é—´é™åˆ¶: 
>
>   1000ms
>
> - å†…å­˜é™åˆ¶: 
>
>   65536kB
>
> - æè¿°
>
>   æˆ‘ä»¬ç§°åºåˆ—Z = < z1, z2, ..., zk >æ˜¯åºåˆ—X = < x1, x2, ..., xm >çš„å­åºåˆ—å½“ä¸”ä»…å½“å­˜åœ¨ **ä¸¥æ ¼ä¸Šå‡** çš„åºåˆ—< i1, i2, ..., ik >,ä½¿å¾—å¯¹j = 1, 2, ... ,k, æœ‰xij = zj.æ¯”å¦‚Z = < a, b, f, c > æ˜¯X = < a, b, c, f, b, c >çš„å­åºåˆ—.  ç°åœ¨ç»™å‡ºä¸¤ä¸ªåºåˆ—Xå’ŒY,ä½ çš„ä»»åŠ¡æ˜¯æ‰¾åˆ°Xå’ŒYçš„æœ€å¤§å…¬å…±å­åºåˆ—,ä¹Ÿå°±æ˜¯è¯´è¦æ‰¾åˆ°ä¸€ä¸ªæœ€é•¿çš„åºåˆ—Z,ä½¿å¾—Zæ—¢æ˜¯Xçš„å­åºåˆ—ä¹Ÿæ˜¯Yçš„å­åºåˆ—. 
>
> - è¾“å…¥
>
>   è¾“å…¥åŒ…æ‹¬å¤šç»„æµ‹è¯•æ•°æ®.æ¯ç»„æ•°æ®åŒ…æ‹¬ä¸€è¡Œ,ç»™å‡ºä¸¤ä¸ªé•¿åº¦ä¸è¶…è¿‡200çš„å­—ç¬¦ä¸²,è¡¨ç¤ºä¸¤ä¸ªåºåˆ—.ä¸¤ä¸ªå­—ç¬¦ä¸²ä¹‹é—´ç”±è‹¥å¹²ä¸ªç©ºæ ¼éš”å¼€.
>
> - è¾“å‡º
>
>   å¯¹æ¯ç»„è¾“å…¥æ•°æ®,è¾“å‡ºä¸€è¡Œ,ç»™å‡ºä¸¤ä¸ªåºåˆ—çš„æœ€å¤§å…¬å…±å­åºåˆ—çš„é•¿åº¦.
>
> - æ ·ä¾‹è¾“å…¥
>
>   `abcfbc         abfcab`
>
>   ` programming    contest` 
>
>    `abcd           mnp `
>
> - æ ·ä¾‹è¾“å‡º
>
>   `4 2 0 `
>
> - æ¥æº
>
>   ç¿»è¯‘è‡ªSoutheastern Europe 2003çš„è¯•é¢˜

```c++
#include <stdio.h>
#include <string.h>
#define MAX_LEN 1000
char sz1[MAX_LEN];
char sz2[MAX_LEN];
int aMaxLen[MAX_LEN][MAX_LEN];

int main() {
  while (scanf("%s%s", sz1 + 1, sz2 + 1) > 0) {
    int nLength1 = strlen(sz1 + 1);
    int nLength2 = strlen(sz2 + 1);
    int nTmp;
    int i, j;
    for (i = 0; i <= nLength1; i++)
      aMaxLen[i][0] = 0;
    for (j = 0; j <= nLength2; j++)
      aMaxLen[0][j] = 0;
    for (i = 1; i <= nLength1; i++) {
      for (j = 1; j <= nLength2; j++) {
        if (sz1[i] == sz2[j])
          aMaxLen[i][j] = aMaxLen[i - 1][j - 1] + 1;
        else {
          int nLen1 = aMaxLen[i][j - 1];
          int nLen2 = aMaxLen[i - 1][j];
          if (nLen1 > nLen2)
            aMaxLen[i][j] = nLen1;
          else
            aMaxLen[i][j] = nLen2;
        }
      }
    }
    printf("%d\n", aMaxLen[nLength1][nLength2]);
  }
  return 0;
}
```

